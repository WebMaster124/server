{"version":3,"sources":["../../src/pages/login/check-otp/check-otp.module.ts","../../src/pages/login/check-otp/check-otp.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACO;AACL;AAC4B;AAUvE;IAAA;IAAiC,CAAC;IAArB,kBAAkB;QAT9B,+DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,gEAAY;aACb;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,gEAAY,CAAC;gBACzC,uFAAgB;aACd;SACF,CAAC;OACW,kBAAkB,CAAG;IAAD,yBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;ACbW;AAC0C;AAChB;AACf;AACW;AACC;AAEjE;;;;;GAKG;AAMH;IAUC,sBAAmB,GAAa,EAAQ,eAAgC,EAAQ,SAA0B,EAAQ,WAAuB,EAAQ,EAAe,EAAQ,OAAsB,EAAS,SAAoB;QAA3N,iBASC;QATkB,QAAG,GAAH,GAAG,CAAU;QAAQ,oBAAe,GAAf,eAAe,CAAiB;QAAQ,cAAS,GAAT,SAAS,CAAiB;QAAQ,gBAAW,GAAX,WAAW,CAAY;QAAQ,OAAE,GAAF,EAAE,CAAa;QAAQ,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QALpN,aAAQ,GAAG;YACjB,KAAK,EAAC,EAAE;YACR,GAAG,EAAC,EAAE;YACN,OAAO,EAAC,EAAE;SACV;QAEC,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC,KAAK,CAAC;YAC3B,KAAK,EAAE,CAAC,EAAE,EAAE,0DAAU,CAAC,OAAO,CAAC,CAAC,0DAAU,CAAC,QAAQ,EAAC,0DAAU,CAAC,SAAS,CAAC,CAAC,CAAC,EAAC,0DAAU,CAAC,SAAS,CAAC,CAAC,CAAC,EAAC,0DAAU,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;SACpI,CAAC,CAAC;QACH,EAAE,EAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,MAAM,CAAC,IAAI,KAAK,IAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,WAAW,CAAC,IAAI,KAAK,CAAC,EAAC;YACrE,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC;gBAC9D,KAAI,CAAC,eAAe,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC;YAClD,CAAC,CAAC,CAAC,KAAK,CAAC,WAAC,IAAI,cAAO,CAAC,GAAG,CAAC,gCAAgC,EAAE,CAAC,CAAC,EAAhD,CAAgD,CAAC,CAAC;QACjE,CAAC;IACF,CAAC;IAED,uCAAgB,GAAhB;QACC,CAAC,CAAC,MAAM,CAAC,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;QACrD,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,OAAO,EAAC,iBAAiB,CAAC,CAAC;QAC5C,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,CAAC;QACb,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,WAAW,EAAE,CAAC;QAEtC,IAAI,KAAK,GAAG,EAAE,EAAC,MAAM,GAAG,EAAE,EAAE,UAAU,GAAE,EAAE,EAAE,SAAS,GAAO,EAAE,CAAC;QAC/D,IAAI,IAAI,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC;QAChC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QAC1B,MAAM,GAAG,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QACjC,UAAU,GAAG,kBAAkB,CAAC,MAAM,CAAC,CAAC;QACxC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;QAEzC,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;QACtC,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC;QAC1C,IAAI,CAAC,QAAQ,CAAC,GAAG,GAAG,SAAS,CAAC,GAAG,CAAC;QAClC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;IAC1D,CAAC;IAED,qCAAc,GAAd,UAAe,GAAO;QAAtB,iBAoCC;QAnCA,EAAE,EAAC,GAAG,CAAC,KAAK,CAAC,GAAG,IAAI,EAAE,CAAC,EAAC;YACvB,IAAI,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBAClC,KAAK,EAAE,iBAAiB;gBACxB,QAAQ,EAAE,kBAAkB;gBAC5B,OAAO,EAAE,CAAC;wBACT,IAAI,EAAE,IAAI;wBACV,IAAI,EAAE,QAAQ;wBACd,QAAQ,EAAC,0BAA0B;qBACnC,CAAC;aACF,CAAC,CAAC;YACH,MAAM,CAAC,OAAO,EAAE,CAAC;YACjB,MAAM,CAAC,KAAK,CAAC;QACd,CAAC;QAED,EAAE,EAAC,GAAG,CAAC,KAAK,CAAC,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAC;YACtC,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;YAC/B,IAAI,CAAC,WAAW,CAAC,qBAAqB,CAAC,8EAAW,CAAC,SAAS,GAAG,oBAAoB,EAAC,IAAI,CAAC,QAAQ,EAAC,UAAC,QAAQ;gBAC1G,EAAE,EAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,IAAI,SAAS,CAAC,EAAC;oBACrC,KAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;oBAC9B,YAAY,CAAC,UAAU,CAAC,uBAAuB,CAAC,CAAC;oBACjD,YAAY,CAAC,UAAU,CAAC,iBAAiB,CAAC,CAAC;oBAC5C,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE;wBAC9B,EAAE,EAAE,OAAO;qBACX,CAAC,CAAC;gBACJ,CAAC;gBAAA,IAAI,EAAC;oBACL,CAAC,CAAC,YAAY,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;oBAC9D,KAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;gBAChC,CAAC;YACF,CAAC,EAAC,UAAC,KAAK;gBACP,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gBACnB,KAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;YAChC,CAAC,CAAC,CAAC;QACJ,CAAC;QAAA,IAAI,EAAC;YACL,CAAC,CAAC,YAAY,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,gCAAgC,CAAC,CAAC;QAC9E,CAAC;IACF,CAAC;IA5EW,YAAY;QAJxB,gEAAS,CAAC;YACT,QAAQ,EAAE,gBAAgB;WACG;SAC9B,CAAC;qBAW0N;OAV/M,YAAY,CA8ExB;IAAD,CAAC;AAAA;SA9EY,YAAY,gB","file":"42.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CheckOtpPage } from './check-otp';\nimport {ComponentsModule} from \"../../../components/components.module\";\n@NgModule({\n  declarations: [\n    CheckOtpPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CheckOtpPage),\n\tComponentsModule\n  ],\n})\nexport class CheckOtpPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/check-otp/check-otp.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController,Platform} from 'ionic-angular';\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\nimport { InfoService } from '../../../services/info';\nimport { environment } from '../../../environments/environment';\nimport { GoogleAnalytics } from '@ionic-native/google-analytics';\ndeclare var $:any;\n/**\n * Generated class for the CheckOtpPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-check-otp',\n  templateUrl: 'check-otp.html',\n})\nexport class CheckOtpPage {\n\t\n\tnewPassword : FormGroup;\n\tpublic showYear:any;\n\t\n\tpublic passData = {\n\t\temail:'',\n\t\totp:'',\n\t\tuser_id:''\n\t}\n\tconstructor(public plt: Platform,public googleanalytics: GoogleAnalytics,public alertCtrl: AlertController,public infoService:InfoService,public fb: FormBuilder,public navCtrl: NavController, public navParams: NavParams) {\n\t  this.newPassword = fb.group({\n\t\t  'otp': ['', Validators.compose([Validators.required,Validators.maxLength(4),Validators.minLength(4),Validators.pattern('[0-9]*')])],\n\t\t});\n\t\tif(this.plt.is('core') == false && this.plt.is('mobileweb') == false){\n\t\t\tthis.googleanalytics.startTrackerWithId('UA-127414417-1').then(() => {\n\t\t\t\tthis.googleanalytics.trackView('ConfirmAccount');\n\t\t\t}).catch(e => console.log('Error starting GoogleAnalytics', e));\n\t\t}\n\t}\n\n\tionViewWillEnter() {\n\t\t$('body').removeClass().addClass('SetPassword body');\n\t\t$(document).attr('title','Confirm Account');\n\t\tvar d = new Date();\n        this.showYear = d.getFullYear();\n\t\t\n\t\tvar parts = [],answer = \"\", decode_str =\"\" ,json_data:any = {};\n\t\tvar path = window.location.href;\n\t\tparts = path.split('?q=');\n\t\tanswer = parts[parts.length - 1];\n\t\tdecode_str = decodeURIComponent(answer);\n\t\tjson_data = JSON.parse(atob(decode_str));\n\t\t\n\t\tthis.passData.email = json_data.email;\n\t\tthis.passData.user_id = json_data.user_id;\n\t\tthis.passData.otp = json_data.otp;\n\t\tthis.newPassword.controls['otp'].setValue(json_data.otp);\n\t}\n\t\n\tsetNewPassword(val:any){\n\t\tif(val.value.otp == \"\"){\n\t\t\tlet alert1 = this.alertCtrl.create({\n\t\t\t\ttitle: 'Confirm Account',\n\t\t\t\tsubTitle: 'OTP is required!',\n\t\t\t\tbuttons: [{\n\t\t\t\t\ttext: 'OK',\n\t\t\t\t\trole: 'cancel',\n\t\t\t\t\tcssClass:'alert-button-changeColor'\n\t\t\t\t}]\n\t\t\t});\n\t\t\talert1.present();\n\t\t\treturn false;\n\t\t}\n\t\t\n\t\tif(val.value.otp == this.passData.otp){\n\t\t\tthis.infoService.showLoading();\n\t\t\tthis.infoService.callHttpFunction_post(environment.serverUrl + 'api/user/check-otp',this.passData,(response)=> {\n\t\t\t\tif(response.user.status == \"success\"){\n\t\t\t\t\tthis.infoService.hideLoading();\n\t\t\t\t\t\tlocalStorage.removeItem('registerBusinessEmail');\n\t\t\t\t\t\tlocalStorage.removeItem('registerConfirm');\n\t\t\t\t\tthis.navCtrl.push('LoginPage', {\n\t\t\t\t\t\tid: 'login'\t\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\t$('#showError').removeClass('d-none').text(response.user.msg);\n\t\t\t\t\tthis.infoService.hideLoading();\n\t\t\t\t}\n\t\t\t},(error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t\tthis.infoService.hideLoading();\n\t\t\t});\n\t\t}else{\n\t\t\t$('#showError').removeClass('d-none').text('Verification code not matched.');\n\t\t}\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/check-otp/check-otp.ts"],"sourceRoot":""}